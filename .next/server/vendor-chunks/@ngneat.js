"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@ngneat";
exports.ids = ["vendor-chunks/@ngneat"];
exports.modules = {

/***/ "(ssr)/./node_modules/@ngneat/elf/index.esm.js":
/*!***********************************************!*\
  !*** ./node_modules/@ngneat/elf/index.esm.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Store: () => (/* binding */ Store),\n/* harmony export */   _setEvent: () => (/* binding */ _setEvent),\n/* harmony export */   asap: () => (/* binding */ asap),\n/* harmony export */   capitalize: () => (/* binding */ capitalize),\n/* harmony export */   coerceArray: () => (/* binding */ coerceArray),\n/* harmony export */   createState: () => (/* binding */ createState),\n/* harmony export */   createStore: () => (/* binding */ createStore),\n/* harmony export */   deepFreeze: () => (/* binding */ deepFreeze),\n/* harmony export */   distinctUntilArrayItemChanged: () => (/* binding */ distinctUntilArrayItemChanged),\n/* harmony export */   elfHooks: () => (/* binding */ elfHooks),\n/* harmony export */   emitOnce: () => (/* binding */ emitOnce),\n/* harmony export */   emitOnceAsync: () => (/* binding */ emitOnceAsync),\n/* harmony export */   enableElfProdMode: () => (/* binding */ enableElfProdMode),\n/* harmony export */   filterNil: () => (/* binding */ filterNil),\n/* harmony export */   getRegistry: () => (/* binding */ getRegistry),\n/* harmony export */   getStore: () => (/* binding */ getStore),\n/* harmony export */   getStoresSnapshot: () => (/* binding */ getStoresSnapshot),\n/* harmony export */   head: () => (/* binding */ head),\n/* harmony export */   isDev: () => (/* binding */ isDev),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   isUndefined: () => (/* binding */ isUndefined),\n/* harmony export */   propsArrayFactory: () => (/* binding */ propsArrayFactory),\n/* harmony export */   propsFactory: () => (/* binding */ propsFactory),\n/* harmony export */   registry$: () => (/* binding */ registry$),\n/* harmony export */   select: () => (/* binding */ select),\n/* harmony export */   setProp: () => (/* binding */ setProp),\n/* harmony export */   setProps: () => (/* binding */ setProps),\n/* harmony export */   withProps: () => (/* binding */ withProps)\n/* harmony export */ });\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/util/isObservable.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/firstValueFrom.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/Subject.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/util/pipe.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/scheduler/asap.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ \"(ssr)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n\n\n\nfunction createState(...propsFactories) {\n  const result = {\n    config: {},\n    state: {}\n  };\n  for (const {\n    config,\n    props\n  } of propsFactories) {\n    Object.assign(result.config, config);\n    Object.assign(result.state, props);\n  }\n  return result;\n}\n\nlet asyncBatchesInProgress = 0;\nconst batchInProgress = new rxjs__WEBPACK_IMPORTED_MODULE_0__.BehaviorSubject(false);\nconst batchDone$ = batchInProgress.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(inProgress => !inProgress), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.take)(1));\nfunction emitOnce(cb) {\n  if (!batchInProgress.getValue()) {\n    batchInProgress.next(true);\n    const value = cb();\n    if (asyncBatchesInProgress === 0) {\n      batchInProgress.next(false);\n    }\n    return value;\n  }\n  return cb();\n}\nasync function emitOnceAsync(cb) {\n  asyncBatchesInProgress++;\n  if (!batchInProgress.getValue()) {\n    batchInProgress.next(true);\n  }\n  const callbackReturnValue = cb();\n  const value = await ((0,rxjs__WEBPACK_IMPORTED_MODULE_2__.isObservable)(callbackReturnValue) ? (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.firstValueFrom)(callbackReturnValue) : callbackReturnValue);\n  if (--asyncBatchesInProgress === 0) {\n    batchInProgress.next(false);\n  }\n  return value;\n}\n\n// this is internal object that's not exported to public API\nconst elfHooksRegistry = {};\nclass ElfHooks {\n  registerPreStoreUpdate(fn) {\n    elfHooksRegistry.preStoreUpdate = fn;\n  }\n  registerPreStateInit(fn) {\n    elfHooksRegistry.preStateInit = fn;\n  }\n}\nconst elfHooks = new ElfHooks();\n\nconst registry = new Map();\nconst registryActions = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subject();\nconst registry$ = registryActions.asObservable();\n\n// @internal\nfunction addStore(store) {\n  registry.set(store.name, store);\n  registryActions.next({\n    type: 'add',\n    store\n  });\n}\n\n// @internal\nfunction removeStore(store) {\n  registry.delete(store.name);\n  registryActions.next({\n    type: 'remove',\n    store\n  });\n}\nfunction getStore(name) {\n  return registry.get(name);\n}\nfunction getRegistry() {\n  return registry;\n}\nfunction getStoresSnapshot() {\n  const stores = {};\n  registry.forEach((store, key) => {\n    stores[key] = store.getValue();\n  });\n  return stores;\n}\n\nlet events = [];\n\n/**\n *\n * @private function don't use\n *\n */\nfunction _setEvent(e) {\n  events.push(e);\n}\nfunction emitEvents(source) {\n  if (events.length) {\n    events.forEach(e => source.next(e));\n  }\n  events = [];\n}\n\nclass Store extends rxjs__WEBPACK_IMPORTED_MODULE_0__.BehaviorSubject {\n  constructor(storeDef) {\n    super(storeDef.state);\n    this.storeDef = storeDef;\n    this.initialState = void 0;\n    this.state = void 0;\n    this.batchInProgress = false;\n    this.events = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subject();\n    this.context = {\n      config: this.getConfig(),\n      setEvent: action => {\n        _setEvent(action);\n      }\n    };\n    this.events$ = this.events.asObservable();\n    this.state = this.getInitialState(storeDef.state);\n    this.initialState = this.getValue();\n    addStore(this);\n  }\n  get name() {\n    return this.storeDef.name;\n  }\n  getInitialState(state) {\n    if (elfHooksRegistry.preStateInit) {\n      return elfHooksRegistry.preStateInit(state, this.name);\n    }\n    return state;\n  }\n  getConfig() {\n    return this.storeDef.config;\n  }\n  query(selector) {\n    return selector(this.getValue());\n  }\n  update(...reducers) {\n    const currentState = this.getValue();\n    let nextState = reducers.reduce((value, reducer) => {\n      value = reducer(value, this.context);\n      return value;\n    }, currentState);\n    if (elfHooksRegistry.preStoreUpdate) {\n      nextState = elfHooksRegistry.preStoreUpdate(currentState, nextState, this.name);\n    }\n    if (nextState !== currentState) {\n      this.state = nextState;\n      if (batchInProgress.getValue()) {\n        if (!this.batchInProgress) {\n          this.batchInProgress = true;\n          batchDone$.subscribe(() => {\n            super.next(this.state);\n            emitEvents(this.events);\n            this.batchInProgress = false;\n          });\n        }\n      } else {\n        super.next(this.state);\n        emitEvents(this.events);\n      }\n    }\n  }\n  getValue() {\n    return this.state;\n  }\n  reset() {\n    this.update(() => this.initialState);\n  }\n  combine(observables) {\n    let hasChange = true;\n    const buffer = {};\n    return new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable(observer => {\n      for (const [key, query] of Object.entries(observables)) {\n        observer.add(query.subscribe(value => {\n          buffer[key] = value;\n          hasChange = true;\n        }));\n      }\n      return this.subscribe({\n        next() {\n          if (hasChange) {\n            observer.next({\n              ...buffer\n            });\n            hasChange = false;\n          }\n        },\n        error(e) {\n          observer.error(e);\n        },\n        complete() {\n          observer.complete();\n        }\n      });\n    });\n  }\n  destroy() {\n    removeStore(this);\n    this.reset();\n  }\n  next(value) {\n    this.update(() => value);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  error() {}\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  complete() {}\n}\n\nfunction createStore(storeConfig, ...propsFactories) {\n  const {\n    state,\n    config\n  } = createState(...propsFactories);\n  const {\n    name\n  } = storeConfig;\n  return new Store({\n    name,\n    state,\n    config\n  });\n}\n\nfunction coerceArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nfunction isUndefined(value) {\n  return value === undefined;\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction capitalize(key) {\n  return key.charAt(0).toUpperCase() + key.slice(1);\n}\nfunction isObject(item) {\n  return typeof item === 'object' && !Array.isArray(item) && item !== null;\n}\nfunction deepFreeze(o) {\n  Object.freeze(o);\n  const oIsFunction = typeof o === 'function';\n  const hasOwnProp = Object.prototype.hasOwnProperty;\n  Object.getOwnPropertyNames(o).forEach(function (prop) {\n    if (hasOwnProp.call(o, prop) && (oIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true) && o[prop] !== null && (typeof o[prop] === 'object' || typeof o[prop] === 'function') && !Object.isFrozen(o[prop])) {\n      deepFreeze(o[prop]);\n    }\n  });\n  return o;\n}\n\n/**\n *\n * Update a root property of the state\n *\n * @example\n *\n * store.update(setProp('foo', 'bar'))\n *\n * @example\n *\n * store.update(setProp('count', count => count + 1))\n *\n */\nfunction setProp(key, value) {\n  return function (state) {\n    return {\n      ...state,\n      [key]: isFunction(value) ? value(state[key]) : value\n    };\n  };\n}\n\n/**\n *\n * Update a root property of the state\n *\n * @example\n *\n * store.update(setProps({ count: 1, bar: 'baz'}))\n *\n * @example\n *\n * store.update(setProps(state => ({\n *   count: 1,\n *   nested: {\n *     ...state.nested,\n *     foo: 'bar'\n *   }\n * })))\n *\n */\nfunction setProps(props) {\n  return function (state) {\n    return {\n      ...state,\n      ...(isFunction(props) ? props(state) : props)\n    };\n  };\n}\n\nfunction select(mapFn) {\n  return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.pipe)((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.map)(mapFn), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.distinctUntilChanged)());\n}\nfunction head() {\n  return (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.map)(arr => arr[0]);\n}\nfunction distinctUntilArrayItemChanged() {\n  return (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.distinctUntilChanged)((prevCollection, currentCollection) => {\n    if (prevCollection === currentCollection) {\n      return true;\n    }\n    if (prevCollection.length !== currentCollection.length) {\n      return false;\n    }\n    const isOneOfItemReferenceChanged = currentCollection.some((item, i) => {\n      return prevCollection[i] !== item;\n    });\n\n    // return false means there is a change and we want to call next()\n    return !isOneOfItemReferenceChanged;\n  });\n}\nconst asap = () => (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.debounceTime)(0, rxjs__WEBPACK_IMPORTED_MODULE_7__.asapScheduler);\nfunction filterNil() {\n  return (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(value => value !== null && value !== undefined);\n}\n\nfunction propsFactory(key, {\n  initialValue: propsFactoryInitialValue,\n  config\n}) {\n  let initialValue = propsFactoryInitialValue;\n  const normalizedKey = capitalize(key);\n  return {\n    [`with${normalizedKey}`](value = initialValue) {\n      return {\n        props: {\n          [key]: value\n        },\n        config\n      };\n    },\n    [`set${normalizedKey}InitialValue`](value) {\n      initialValue = value;\n    },\n    [`set${normalizedKey}`](value) {\n      return function (state) {\n        const newVal = isFunction(value) ? value(state) : value;\n        if (newVal === state[key]) {\n          return state;\n        }\n        return {\n          ...state,\n          [key]: newVal\n        };\n      };\n    },\n    [`update${normalizedKey}`](value) {\n      return function (state) {\n        const newVal = isFunction(value) ? value(state) : value;\n        if (newVal === state[key]) {\n          return state;\n        }\n        return {\n          ...state,\n          [key]: isObject(newVal) ? {\n            ...state[key],\n            ...newVal\n          } : newVal\n        };\n      };\n    },\n    [`reset${normalizedKey}`]() {\n      return function (state) {\n        return {\n          ...state,\n          [key]: initialValue\n        };\n      };\n    },\n    [`select${normalizedKey}`]() {\n      return select(state => state[key]);\n    },\n    [`get${normalizedKey}`](state) {\n      return state[key];\n    }\n  };\n}\n\nfunction propsArrayFactory(key, options) {\n  const normalizedKey = capitalize(key);\n  const base = propsFactory(key, options);\n  return {\n    ...base,\n    [`add${normalizedKey}`](items) {\n      return function (state) {\n        return {\n          ...state,\n          [key]: arrayAdd(state[key], items)\n        };\n      };\n    },\n    [`remove${normalizedKey}`](items) {\n      return function (state) {\n        return {\n          ...state,\n          [key]: arrayRemove(state[key], items)\n        };\n      };\n    },\n    [`toggle${normalizedKey}`](items) {\n      return function (state) {\n        return {\n          ...state,\n          [key]: arrayToggle(state[key], items)\n        };\n      };\n    },\n    [`update${normalizedKey}`](predicateOrIds, obj) {\n      return function (state) {\n        return {\n          ...state,\n          [key]: arrayUpdate(state[key], predicateOrIds, obj)\n        };\n      };\n    },\n    [`in${normalizedKey}`](item) {\n      return state => inArray(state[key], item);\n    }\n  };\n}\nfunction arrayAdd(arr, items) {\n  return [...arr, ...coerceArray(items)];\n}\nfunction arrayRemove(arr, items) {\n  const toArray = coerceArray(items);\n  return arr.filter(current => !toArray.includes(current));\n}\nfunction arrayToggle(arr, items) {\n  const toArray = coerceArray(items);\n  const result = [...arr];\n  toArray.forEach(item => {\n    const i = result.indexOf(item);\n    i > -1 ? result.splice(i, 1) : result.push(item);\n  });\n  return result;\n}\nfunction inArray(arr, item) {\n  return arr.includes(item);\n}\nfunction arrayUpdate(arr, item, newItem) {\n  return arr.map(current => {\n    return current === item ? newItem : current;\n  });\n}\n\nfunction withProps(props) {\n  return {\n    props,\n    config: undefined\n  };\n}\n\nlet __DEV__ = true;\nfunction enableElfProdMode() {\n  __DEV__ = false;\n}\n\n// @internal\nfunction isDev() {\n  return __DEV__;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG5nbmVhdC9lbGYvaW5kZXguZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStHO0FBQ3hCOztBQUV2RjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixpREFBZTtBQUMzQyx1REFBdUQsc0RBQU0sNkJBQTZCLG9EQUFJO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0RBQVksd0JBQXdCLG9EQUFjO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0Qix5Q0FBTztBQUNuQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpREFBZTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IseUNBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQSxLQUFLO0FBQ0wsY0FBYyxjQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxVQUFVLGNBQWM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFdVgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2MtZnJlaWdodGVyLy4vbm9kZV9tb2R1bGVzL0BuZ25lYXQvZWxmL2luZGV4LmVzbS5qcz85MDZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgaXNPYnNlcnZhYmxlLCBmaXJzdFZhbHVlRnJvbSwgU3ViamVjdCwgT2JzZXJ2YWJsZSwgcGlwZSwgYXNhcFNjaGVkdWxlciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZmlsdGVyLCB0YWtlLCBtYXAsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBkZWJvdW5jZVRpbWUgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRlKC4uLnByb3BzRmFjdG9yaWVzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBjb25maWc6IHt9LFxuICAgIHN0YXRlOiB7fVxuICB9O1xuICBmb3IgKGNvbnN0IHtcbiAgICBjb25maWcsXG4gICAgcHJvcHNcbiAgfSBvZiBwcm9wc0ZhY3Rvcmllcykge1xuICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LmNvbmZpZywgY29uZmlnKTtcbiAgICBPYmplY3QuYXNzaWduKHJlc3VsdC5zdGF0ZSwgcHJvcHMpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmxldCBhc3luY0JhdGNoZXNJblByb2dyZXNzID0gMDtcbmNvbnN0IGJhdGNoSW5Qcm9ncmVzcyA9IG5ldyBCZWhhdmlvclN1YmplY3QoZmFsc2UpO1xuY29uc3QgYmF0Y2hEb25lJCA9IGJhdGNoSW5Qcm9ncmVzcy5hc09ic2VydmFibGUoKS5waXBlKGZpbHRlcihpblByb2dyZXNzID0+ICFpblByb2dyZXNzKSwgdGFrZSgxKSk7XG5mdW5jdGlvbiBlbWl0T25jZShjYikge1xuICBpZiAoIWJhdGNoSW5Qcm9ncmVzcy5nZXRWYWx1ZSgpKSB7XG4gICAgYmF0Y2hJblByb2dyZXNzLm5leHQodHJ1ZSk7XG4gICAgY29uc3QgdmFsdWUgPSBjYigpO1xuICAgIGlmIChhc3luY0JhdGNoZXNJblByb2dyZXNzID09PSAwKSB7XG4gICAgICBiYXRjaEluUHJvZ3Jlc3MubmV4dChmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gY2IoKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGVtaXRPbmNlQXN5bmMoY2IpIHtcbiAgYXN5bmNCYXRjaGVzSW5Qcm9ncmVzcysrO1xuICBpZiAoIWJhdGNoSW5Qcm9ncmVzcy5nZXRWYWx1ZSgpKSB7XG4gICAgYmF0Y2hJblByb2dyZXNzLm5leHQodHJ1ZSk7XG4gIH1cbiAgY29uc3QgY2FsbGJhY2tSZXR1cm5WYWx1ZSA9IGNiKCk7XG4gIGNvbnN0IHZhbHVlID0gYXdhaXQgKGlzT2JzZXJ2YWJsZShjYWxsYmFja1JldHVyblZhbHVlKSA/IGZpcnN0VmFsdWVGcm9tKGNhbGxiYWNrUmV0dXJuVmFsdWUpIDogY2FsbGJhY2tSZXR1cm5WYWx1ZSk7XG4gIGlmICgtLWFzeW5jQmF0Y2hlc0luUHJvZ3Jlc3MgPT09IDApIHtcbiAgICBiYXRjaEluUHJvZ3Jlc3MubmV4dChmYWxzZSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vLyB0aGlzIGlzIGludGVybmFsIG9iamVjdCB0aGF0J3Mgbm90IGV4cG9ydGVkIHRvIHB1YmxpYyBBUElcbmNvbnN0IGVsZkhvb2tzUmVnaXN0cnkgPSB7fTtcbmNsYXNzIEVsZkhvb2tzIHtcbiAgcmVnaXN0ZXJQcmVTdG9yZVVwZGF0ZShmbikge1xuICAgIGVsZkhvb2tzUmVnaXN0cnkucHJlU3RvcmVVcGRhdGUgPSBmbjtcbiAgfVxuICByZWdpc3RlclByZVN0YXRlSW5pdChmbikge1xuICAgIGVsZkhvb2tzUmVnaXN0cnkucHJlU3RhdGVJbml0ID0gZm47XG4gIH1cbn1cbmNvbnN0IGVsZkhvb2tzID0gbmV3IEVsZkhvb2tzKCk7XG5cbmNvbnN0IHJlZ2lzdHJ5ID0gbmV3IE1hcCgpO1xuY29uc3QgcmVnaXN0cnlBY3Rpb25zID0gbmV3IFN1YmplY3QoKTtcbmNvbnN0IHJlZ2lzdHJ5JCA9IHJlZ2lzdHJ5QWN0aW9ucy5hc09ic2VydmFibGUoKTtcblxuLy8gQGludGVybmFsXG5mdW5jdGlvbiBhZGRTdG9yZShzdG9yZSkge1xuICByZWdpc3RyeS5zZXQoc3RvcmUubmFtZSwgc3RvcmUpO1xuICByZWdpc3RyeUFjdGlvbnMubmV4dCh7XG4gICAgdHlwZTogJ2FkZCcsXG4gICAgc3RvcmVcbiAgfSk7XG59XG5cbi8vIEBpbnRlcm5hbFxuZnVuY3Rpb24gcmVtb3ZlU3RvcmUoc3RvcmUpIHtcbiAgcmVnaXN0cnkuZGVsZXRlKHN0b3JlLm5hbWUpO1xuICByZWdpc3RyeUFjdGlvbnMubmV4dCh7XG4gICAgdHlwZTogJ3JlbW92ZScsXG4gICAgc3RvcmVcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRTdG9yZShuYW1lKSB7XG4gIHJldHVybiByZWdpc3RyeS5nZXQobmFtZSk7XG59XG5mdW5jdGlvbiBnZXRSZWdpc3RyeSgpIHtcbiAgcmV0dXJuIHJlZ2lzdHJ5O1xufVxuZnVuY3Rpb24gZ2V0U3RvcmVzU25hcHNob3QoKSB7XG4gIGNvbnN0IHN0b3JlcyA9IHt9O1xuICByZWdpc3RyeS5mb3JFYWNoKChzdG9yZSwga2V5KSA9PiB7XG4gICAgc3RvcmVzW2tleV0gPSBzdG9yZS5nZXRWYWx1ZSgpO1xuICB9KTtcbiAgcmV0dXJuIHN0b3Jlcztcbn1cblxubGV0IGV2ZW50cyA9IFtdO1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZSBmdW5jdGlvbiBkb24ndCB1c2VcbiAqXG4gKi9cbmZ1bmN0aW9uIF9zZXRFdmVudChlKSB7XG4gIGV2ZW50cy5wdXNoKGUpO1xufVxuZnVuY3Rpb24gZW1pdEV2ZW50cyhzb3VyY2UpIHtcbiAgaWYgKGV2ZW50cy5sZW5ndGgpIHtcbiAgICBldmVudHMuZm9yRWFjaChlID0+IHNvdXJjZS5uZXh0KGUpKTtcbiAgfVxuICBldmVudHMgPSBbXTtcbn1cblxuY2xhc3MgU3RvcmUgZXh0ZW5kcyBCZWhhdmlvclN1YmplY3Qge1xuICBjb25zdHJ1Y3RvcihzdG9yZURlZikge1xuICAgIHN1cGVyKHN0b3JlRGVmLnN0YXRlKTtcbiAgICB0aGlzLnN0b3JlRGVmID0gc3RvcmVEZWY7XG4gICAgdGhpcy5pbml0aWFsU3RhdGUgPSB2b2lkIDA7XG4gICAgdGhpcy5zdGF0ZSA9IHZvaWQgMDtcbiAgICB0aGlzLmJhdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIHRoaXMuZXZlbnRzID0gbmV3IFN1YmplY3QoKTtcbiAgICB0aGlzLmNvbnRleHQgPSB7XG4gICAgICBjb25maWc6IHRoaXMuZ2V0Q29uZmlnKCksXG4gICAgICBzZXRFdmVudDogYWN0aW9uID0+IHtcbiAgICAgICAgX3NldEV2ZW50KGFjdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmV2ZW50cyQgPSB0aGlzLmV2ZW50cy5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5nZXRJbml0aWFsU3RhdGUoc3RvcmVEZWYuc3RhdGUpO1xuICAgIHRoaXMuaW5pdGlhbFN0YXRlID0gdGhpcy5nZXRWYWx1ZSgpO1xuICAgIGFkZFN0b3JlKHRoaXMpO1xuICB9XG4gIGdldCBuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLnN0b3JlRGVmLm5hbWU7XG4gIH1cbiAgZ2V0SW5pdGlhbFN0YXRlKHN0YXRlKSB7XG4gICAgaWYgKGVsZkhvb2tzUmVnaXN0cnkucHJlU3RhdGVJbml0KSB7XG4gICAgICByZXR1cm4gZWxmSG9va3NSZWdpc3RyeS5wcmVTdGF0ZUluaXQoc3RhdGUsIHRoaXMubmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuICBnZXRDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmVEZWYuY29uZmlnO1xuICB9XG4gIHF1ZXJ5KHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yKHRoaXMuZ2V0VmFsdWUoKSk7XG4gIH1cbiAgdXBkYXRlKC4uLnJlZHVjZXJzKSB7XG4gICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5nZXRWYWx1ZSgpO1xuICAgIGxldCBuZXh0U3RhdGUgPSByZWR1Y2Vycy5yZWR1Y2UoKHZhbHVlLCByZWR1Y2VyKSA9PiB7XG4gICAgICB2YWx1ZSA9IHJlZHVjZXIodmFsdWUsIHRoaXMuY29udGV4dCk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSwgY3VycmVudFN0YXRlKTtcbiAgICBpZiAoZWxmSG9va3NSZWdpc3RyeS5wcmVTdG9yZVVwZGF0ZSkge1xuICAgICAgbmV4dFN0YXRlID0gZWxmSG9va3NSZWdpc3RyeS5wcmVTdG9yZVVwZGF0ZShjdXJyZW50U3RhdGUsIG5leHRTdGF0ZSwgdGhpcy5uYW1lKTtcbiAgICB9XG4gICAgaWYgKG5leHRTdGF0ZSAhPT0gY3VycmVudFN0YXRlKSB7XG4gICAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgaWYgKGJhdGNoSW5Qcm9ncmVzcy5nZXRWYWx1ZSgpKSB7XG4gICAgICAgIGlmICghdGhpcy5iYXRjaEluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICB0aGlzLmJhdGNoSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgYmF0Y2hEb25lJC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgc3VwZXIubmV4dCh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIGVtaXRFdmVudHModGhpcy5ldmVudHMpO1xuICAgICAgICAgICAgdGhpcy5iYXRjaEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VwZXIubmV4dCh0aGlzLnN0YXRlKTtcbiAgICAgICAgZW1pdEV2ZW50cyh0aGlzLmV2ZW50cyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMudXBkYXRlKCgpID0+IHRoaXMuaW5pdGlhbFN0YXRlKTtcbiAgfVxuICBjb21iaW5lKG9ic2VydmFibGVzKSB7XG4gICAgbGV0IGhhc0NoYW5nZSA9IHRydWU7XG4gICAgY29uc3QgYnVmZmVyID0ge307XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKG9ic2VydmVyID0+IHtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgcXVlcnldIG9mIE9iamVjdC5lbnRyaWVzKG9ic2VydmFibGVzKSkge1xuICAgICAgICBvYnNlcnZlci5hZGQocXVlcnkuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICAgICAgICBidWZmZXJba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIGhhc0NoYW5nZSA9IHRydWU7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZSh7XG4gICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgaWYgKGhhc0NoYW5nZSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh7XG4gICAgICAgICAgICAgIC4uLmJ1ZmZlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYXNDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yKGUpIHtcbiAgICAgICAgICBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICByZW1vdmVTdG9yZSh0aGlzKTtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cbiAgbmV4dCh2YWx1ZSkge1xuICAgIHRoaXMudXBkYXRlKCgpID0+IHZhbHVlKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgZXJyb3IoKSB7fVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgY29tcGxldGUoKSB7fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdG9yZShzdG9yZUNvbmZpZywgLi4ucHJvcHNGYWN0b3JpZXMpIHtcbiAgY29uc3Qge1xuICAgIHN0YXRlLFxuICAgIGNvbmZpZ1xuICB9ID0gY3JlYXRlU3RhdGUoLi4ucHJvcHNGYWN0b3JpZXMpO1xuICBjb25zdCB7XG4gICAgbmFtZVxuICB9ID0gc3RvcmVDb25maWc7XG4gIHJldHVybiBuZXcgU3RvcmUoe1xuICAgIG5hbWUsXG4gICAgc3RhdGUsXG4gICAgY29uZmlnXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb2VyY2VBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG59XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xufVxuZnVuY3Rpb24gY2FwaXRhbGl6ZShrZXkpIHtcbiAgcmV0dXJuIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zbGljZSgxKTtcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KGl0ZW0pIHtcbiAgcmV0dXJuIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpdGVtKSAmJiBpdGVtICE9PSBudWxsO1xufVxuZnVuY3Rpb24gZGVlcEZyZWV6ZShvKSB7XG4gIE9iamVjdC5mcmVlemUobyk7XG4gIGNvbnN0IG9Jc0Z1bmN0aW9uID0gdHlwZW9mIG8gPT09ICdmdW5jdGlvbic7XG4gIGNvbnN0IGhhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgaWYgKGhhc093blByb3AuY2FsbChvLCBwcm9wKSAmJiAob0lzRnVuY3Rpb24gPyBwcm9wICE9PSAnY2FsbGVyJyAmJiBwcm9wICE9PSAnY2FsbGVlJyAmJiBwcm9wICE9PSAnYXJndW1lbnRzJyA6IHRydWUpICYmIG9bcHJvcF0gIT09IG51bGwgJiYgKHR5cGVvZiBvW3Byb3BdID09PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb1twcm9wXSA9PT0gJ2Z1bmN0aW9uJykgJiYgIU9iamVjdC5pc0Zyb3plbihvW3Byb3BdKSkge1xuICAgICAgZGVlcEZyZWV6ZShvW3Byb3BdKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbztcbn1cblxuLyoqXG4gKlxuICogVXBkYXRlIGEgcm9vdCBwcm9wZXJ0eSBvZiB0aGUgc3RhdGVcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHN0b3JlLnVwZGF0ZShzZXRQcm9wKCdmb28nLCAnYmFyJykpXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBzdG9yZS51cGRhdGUoc2V0UHJvcCgnY291bnQnLCBjb3VudCA9PiBjb3VudCArIDEpKVxuICpcbiAqL1xuZnVuY3Rpb24gc2V0UHJvcChrZXksIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBba2V5XTogaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZShzdGF0ZVtrZXldKSA6IHZhbHVlXG4gICAgfTtcbiAgfTtcbn1cblxuLyoqXG4gKlxuICogVXBkYXRlIGEgcm9vdCBwcm9wZXJ0eSBvZiB0aGUgc3RhdGVcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHN0b3JlLnVwZGF0ZShzZXRQcm9wcyh7IGNvdW50OiAxLCBiYXI6ICdiYXonfSkpXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBzdG9yZS51cGRhdGUoc2V0UHJvcHMoc3RhdGUgPT4gKHtcbiAqICAgY291bnQ6IDEsXG4gKiAgIG5lc3RlZDoge1xuICogICAgIC4uLnN0YXRlLm5lc3RlZCxcbiAqICAgICBmb286ICdiYXInXG4gKiAgIH1cbiAqIH0pKSlcbiAqXG4gKi9cbmZ1bmN0aW9uIHNldFByb3BzKHByb3BzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICAuLi4oaXNGdW5jdGlvbihwcm9wcykgPyBwcm9wcyhzdGF0ZSkgOiBwcm9wcylcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBzZWxlY3QobWFwRm4pIHtcbiAgcmV0dXJuIHBpcGUobWFwKG1hcEZuKSwgZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG59XG5mdW5jdGlvbiBoZWFkKCkge1xuICByZXR1cm4gbWFwKGFyciA9PiBhcnJbMF0pO1xufVxuZnVuY3Rpb24gZGlzdGluY3RVbnRpbEFycmF5SXRlbUNoYW5nZWQoKSB7XG4gIHJldHVybiBkaXN0aW5jdFVudGlsQ2hhbmdlZCgocHJldkNvbGxlY3Rpb24sIGN1cnJlbnRDb2xsZWN0aW9uKSA9PiB7XG4gICAgaWYgKHByZXZDb2xsZWN0aW9uID09PSBjdXJyZW50Q29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChwcmV2Q29sbGVjdGlvbi5sZW5ndGggIT09IGN1cnJlbnRDb2xsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBpc09uZU9mSXRlbVJlZmVyZW5jZUNoYW5nZWQgPSBjdXJyZW50Q29sbGVjdGlvbi5zb21lKChpdGVtLCBpKSA9PiB7XG4gICAgICByZXR1cm4gcHJldkNvbGxlY3Rpb25baV0gIT09IGl0ZW07XG4gICAgfSk7XG5cbiAgICAvLyByZXR1cm4gZmFsc2UgbWVhbnMgdGhlcmUgaXMgYSBjaGFuZ2UgYW5kIHdlIHdhbnQgdG8gY2FsbCBuZXh0KClcbiAgICByZXR1cm4gIWlzT25lT2ZJdGVtUmVmZXJlbmNlQ2hhbmdlZDtcbiAgfSk7XG59XG5jb25zdCBhc2FwID0gKCkgPT4gZGVib3VuY2VUaW1lKDAsIGFzYXBTY2hlZHVsZXIpO1xuZnVuY3Rpb24gZmlsdGVyTmlsKCkge1xuICByZXR1cm4gZmlsdGVyKHZhbHVlID0+IHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpO1xufVxuXG5mdW5jdGlvbiBwcm9wc0ZhY3Rvcnkoa2V5LCB7XG4gIGluaXRpYWxWYWx1ZTogcHJvcHNGYWN0b3J5SW5pdGlhbFZhbHVlLFxuICBjb25maWdcbn0pIHtcbiAgbGV0IGluaXRpYWxWYWx1ZSA9IHByb3BzRmFjdG9yeUluaXRpYWxWYWx1ZTtcbiAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhcGl0YWxpemUoa2V5KTtcbiAgcmV0dXJuIHtcbiAgICBbYHdpdGgke25vcm1hbGl6ZWRLZXl9YF0odmFsdWUgPSBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgW2tleV06IHZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ1xuICAgICAgfTtcbiAgICB9LFxuICAgIFtgc2V0JHtub3JtYWxpemVkS2V5fUluaXRpYWxWYWx1ZWBdKHZhbHVlKSB7XG4gICAgICBpbml0aWFsVmFsdWUgPSB2YWx1ZTtcbiAgICB9LFxuICAgIFtgc2V0JHtub3JtYWxpemVkS2V5fWBdKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IG5ld1ZhbCA9IGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUoc3RhdGUpIDogdmFsdWU7XG4gICAgICAgIGlmIChuZXdWYWwgPT09IHN0YXRlW2tleV0pIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICBba2V5XTogbmV3VmFsXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH0sXG4gICAgW2B1cGRhdGUke25vcm1hbGl6ZWRLZXl9YF0odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgY29uc3QgbmV3VmFsID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZShzdGF0ZSkgOiB2YWx1ZTtcbiAgICAgICAgaWYgKG5ld1ZhbCA9PT0gc3RhdGVba2V5XSkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIFtrZXldOiBpc09iamVjdChuZXdWYWwpID8ge1xuICAgICAgICAgICAgLi4uc3RhdGVba2V5XSxcbiAgICAgICAgICAgIC4uLm5ld1ZhbFxuICAgICAgICAgIH0gOiBuZXdWYWxcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBbYHJlc2V0JHtub3JtYWxpemVkS2V5fWBdKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIFtrZXldOiBpbml0aWFsVmFsdWVcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBbYHNlbGVjdCR7bm9ybWFsaXplZEtleX1gXSgpIHtcbiAgICAgIHJldHVybiBzZWxlY3Qoc3RhdGUgPT4gc3RhdGVba2V5XSk7XG4gICAgfSxcbiAgICBbYGdldCR7bm9ybWFsaXplZEtleX1gXShzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlW2tleV07XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9wc0FycmF5RmFjdG9yeShrZXksIG9wdGlvbnMpIHtcbiAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhcGl0YWxpemUoa2V5KTtcbiAgY29uc3QgYmFzZSA9IHByb3BzRmFjdG9yeShrZXksIG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIC4uLmJhc2UsXG4gICAgW2BhZGQke25vcm1hbGl6ZWRLZXl9YF0oaXRlbXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICBba2V5XTogYXJyYXlBZGQoc3RhdGVba2V5XSwgaXRlbXMpXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH0sXG4gICAgW2ByZW1vdmUke25vcm1hbGl6ZWRLZXl9YF0oaXRlbXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICBba2V5XTogYXJyYXlSZW1vdmUoc3RhdGVba2V5XSwgaXRlbXMpXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH0sXG4gICAgW2B0b2dnbGUke25vcm1hbGl6ZWRLZXl9YF0oaXRlbXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICBba2V5XTogYXJyYXlUb2dnbGUoc3RhdGVba2V5XSwgaXRlbXMpXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH0sXG4gICAgW2B1cGRhdGUke25vcm1hbGl6ZWRLZXl9YF0ocHJlZGljYXRlT3JJZHMsIG9iaikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIFtrZXldOiBhcnJheVVwZGF0ZShzdGF0ZVtrZXldLCBwcmVkaWNhdGVPcklkcywgb2JqKVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9LFxuICAgIFtgaW4ke25vcm1hbGl6ZWRLZXl9YF0oaXRlbSkge1xuICAgICAgcmV0dXJuIHN0YXRlID0+IGluQXJyYXkoc3RhdGVba2V5XSwgaXRlbSk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gYXJyYXlBZGQoYXJyLCBpdGVtcykge1xuICByZXR1cm4gWy4uLmFyciwgLi4uY29lcmNlQXJyYXkoaXRlbXMpXTtcbn1cbmZ1bmN0aW9uIGFycmF5UmVtb3ZlKGFyciwgaXRlbXMpIHtcbiAgY29uc3QgdG9BcnJheSA9IGNvZXJjZUFycmF5KGl0ZW1zKTtcbiAgcmV0dXJuIGFyci5maWx0ZXIoY3VycmVudCA9PiAhdG9BcnJheS5pbmNsdWRlcyhjdXJyZW50KSk7XG59XG5mdW5jdGlvbiBhcnJheVRvZ2dsZShhcnIsIGl0ZW1zKSB7XG4gIGNvbnN0IHRvQXJyYXkgPSBjb2VyY2VBcnJheShpdGVtcyk7XG4gIGNvbnN0IHJlc3VsdCA9IFsuLi5hcnJdO1xuICB0b0FycmF5LmZvckVhY2goaXRlbSA9PiB7XG4gICAgY29uc3QgaSA9IHJlc3VsdC5pbmRleE9mKGl0ZW0pO1xuICAgIGkgPiAtMSA/IHJlc3VsdC5zcGxpY2UoaSwgMSkgOiByZXN1bHQucHVzaChpdGVtKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBpbkFycmF5KGFyciwgaXRlbSkge1xuICByZXR1cm4gYXJyLmluY2x1ZGVzKGl0ZW0pO1xufVxuZnVuY3Rpb24gYXJyYXlVcGRhdGUoYXJyLCBpdGVtLCBuZXdJdGVtKSB7XG4gIHJldHVybiBhcnIubWFwKGN1cnJlbnQgPT4ge1xuICAgIHJldHVybiBjdXJyZW50ID09PSBpdGVtID8gbmV3SXRlbSA6IGN1cnJlbnQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB3aXRoUHJvcHMocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICBwcm9wcyxcbiAgICBjb25maWc6IHVuZGVmaW5lZFxuICB9O1xufVxuXG5sZXQgX19ERVZfXyA9IHRydWU7XG5mdW5jdGlvbiBlbmFibGVFbGZQcm9kTW9kZSgpIHtcbiAgX19ERVZfXyA9IGZhbHNlO1xufVxuXG4vLyBAaW50ZXJuYWxcbmZ1bmN0aW9uIGlzRGV2KCkge1xuICByZXR1cm4gX19ERVZfXztcbn1cblxuZXhwb3J0IHsgU3RvcmUsIF9zZXRFdmVudCwgYXNhcCwgY2FwaXRhbGl6ZSwgY29lcmNlQXJyYXksIGNyZWF0ZVN0YXRlLCBjcmVhdGVTdG9yZSwgZGVlcEZyZWV6ZSwgZGlzdGluY3RVbnRpbEFycmF5SXRlbUNoYW5nZWQsIGVsZkhvb2tzLCBlbWl0T25jZSwgZW1pdE9uY2VBc3luYywgZW5hYmxlRWxmUHJvZE1vZGUsIGZpbHRlck5pbCwgZ2V0UmVnaXN0cnksIGdldFN0b3JlLCBnZXRTdG9yZXNTbmFwc2hvdCwgaGVhZCwgaXNEZXYsIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1N0cmluZywgaXNVbmRlZmluZWQsIHByb3BzQXJyYXlGYWN0b3J5LCBwcm9wc0ZhY3RvcnksIHJlZ2lzdHJ5JCwgc2VsZWN0LCBzZXRQcm9wLCBzZXRQcm9wcywgd2l0aFByb3BzIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ngneat/elf/index.esm.js\n");

/***/ })

};
;